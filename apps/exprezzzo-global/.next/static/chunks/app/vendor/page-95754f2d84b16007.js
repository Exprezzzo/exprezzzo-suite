(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[409],{2727:(e,t,n)=>{"use strict";n.d(t,{db:()=>d,j2:()=>c});var a=n(3915),r=n(3004),i=n(5317),o=n(9509);let l={apiKey:o.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:o.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:o.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:o.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:o.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:o.env.NEXT_PUBLIC_FIREBASE_APP_ID},s=(0,a.Wp)(l),c=(0,r.xI)(s),d=(0,i.aU)(s)},4812:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var a=n(5155),r=n(2115),i=n(5317),o=n(2727),l=n(3004);function s(e){let{vendorId:t}=e,{toast:n}={toast:e=>{let{title:t,description:n,variant:a="default"}=e;alert("".concat(t).concat(n?"\n".concat(n):""))}},{user:s}=function(){let[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=(0,l.hg)(o.j2,e=>{t(e),a(!1)});return()=>e()},[]),{user:e,loading:n}}(),[c,d]=(0,r.useState)("RSVP"),[u,_]=(0,r.useState)(""),[E,p]=(0,r.useState)(!1);async function v(){if(!s)return void n({title:"Please sign in first",variant:"destructive"});p(!0);try{let e={vendorId:t,userId:s.uid,type:c,notes:u,createdAt:(0,i.O5)()};await (0,i.gS)((0,i.rJ)(o.db,"bookings"),e),n({title:"Booking Confirmed!",description:"We'll follow up soon."}),_("")}catch(e){console.error("Error creating booking:",e),n({title:"Booking failed",description:"Try again later",variant:"destructive"})}finally{p(!1)}}return(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Confirm Your Booking"}),(0,a.jsxs)("select",{value:c,onChange:e=>d(e.target.value),children:[(0,a.jsx)("option",{value:"RSVP",children:"RSVP"}),(0,a.jsx)("option",{value:"Bid",children:"Bid"}),(0,a.jsx)("option",{value:"Direct",children:"Direct"}),(0,a.jsx)("option",{value:"Group",children:"Group"})]}),(0,a.jsx)("textarea",{value:u,onChange:e=>_(e.target.value),placeholder:"Add notes...",className:"w-full border px-3 py-2 rounded"}),(0,a.jsx)("button",{onClick:v,className:"bg-black text-white px-6 py-2 rounded",disabled:E,children:E?"Booking...":"Confirm Booking"})]})}},9402:(e,t,n)=>{Promise.resolve().then(n.bind(n,4812))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,416,16,441,684,358],()=>t(9402)),_N_E=e.O()}]);